<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace = "notice">

  <insert id="create" parameterType="NoticeVO">
  INSERT INTO notice(nt_no, me_no, nt_title, nt_content )
  VALUES((SELECT NVL(MAX(nt_no), 0)+1 as nt_no FROM notice), #{me_no}, #{nt_title}, #{nt_content})
  </insert>

  <!-- 검색을하지 않는 전체 목록 -->
  <select id="list" resultType="NoticeVO">
    SELECT nt_no, nt_title
    FROM notice
    ORDER BY nt_no ASC 
  </select>
  
  <!-- 조회 -->
  <select id="read" resultType="NoticeVO" parameterType="int">
    SELECT nt_no, me_no, nt_title, nt_content, nt_date 
    FROM notice
    WHERE nt_no=#{nt_no}
  </select>
  
  <!-- 수정 -->
  <update id="update" parameterType="NoticeVO">
    UPDATE notice 
    SET nt_title=#{nt_title}, nt_content=#{nt_content} 
    WHERE nt_no=#{nt_no}
  </update> 
  
  <!-- 삭제 -->
  <delete id="delete" parameterType="int">
    DELETE FROM notice
    WHERE nt_no=#{nt_no}
  </delete>
   
</mapper>