<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace = "tqna">
  <insert id="create" parameterType="TqnaVO">
    INSERT INTO TQNA(qa_no, 
                         qa_title, qa_content, qa_good, qa_cnt, qa_date)  
    VALUES((SELECT NVL(MAX(qa_no), 0) + 1 as qa_no FROM TQNA),
                          #{qa_title}, #{qa_content}, 0, 
                          0, sysdate)
  </insert>

  <select id="list" resultType="TqnaVO">
    SELECT qa_no,
           qa_title, qa_content, qa_good, qa_cnt, qa_date
    FROM TQNA
    ORDER BY qa_no ASC
    
  </select> 
  
    <select id="read" resultType="TqnaVO" parameterType="int">
    SELECT qa_no,
           qa_title, qa_content, qa_good, qa_cnt, qa_date
    FROM TQNA
    WHERE qa_no=#{qa_no}
  </select>
  
    <update id='update' parameterType="TqnaVO">
    UPDATE TQNA
    SET  qa_title=#{qa_title}, qa_content=#{qa_content}
    WHERE qa_no=#{qa_no}
  </update>
  
  <delete id="delete" parameterType="int">
    DELETE FROM TQNA
    WHERE qa_no=#{qa_no}
  </delete>

</mapper>